(this.webpackJsonpTODOAPP=this.webpackJsonpTODOAPP||[]).push([[0],{19:function(e,t,n){e.exports=n(41)},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(9),o=n.n(r),s=(n(24),n(25),n(4)),i=(n(26),n(2)),u=n.n(i),l=n(3),d=n(5),f=n(6),h=n(7),p=n(18),m=n(17);function v(e,t){return b.apply(this,arguments)}function b(){return(b=Object(l.a)(u.a.mark((function e(t,n){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.body,c=n.method,e.next=3,fetch(t,{body:a,headers:{"Content-Type":"application/json"},method:c});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).getInstance(),Object(h.a)(e,n.instance)}return Object(f.a)(n,[{key:"getTaskList",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v("http://localhost:3000/api/tasks",{method:"GET"}).then((function(e){return e&&e.json()})).then((function(e){return t.notify(Object.values(e))})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"createNewTask",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Math.floor(20*Math.random()),a='{"id":"'.concat(n,'","text":"').concat(t,'"}'),e.next=4,v("http://localhost:3000/api/tasks",{body:a,method:"POST"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateTask",value:function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a='{"id":"'.concat(t,'","text":"').concat(n,'"}'),v("http://localhost:3000/api/tasks/".concat(t),{body:a,method:"PUT"}).then((function(e){return e&&e.json()})).then((function(e){return console.log(Object.values(e))}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteTask",value:function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a='{"id":"'.concat(t,'","text":"').concat(n,'"}'),e.next=3,v("http://localhost:3000/api/tasks/".concat(t),{body:a,method:"DELETE"});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getInstance",value:function(){n.instance||(n.instance=this)}}]),n}(function(){function e(){Object(d.a)(this,e),this.observers=[]}return Object(f.a)(e,[{key:"subscribe",value:function(e){this.observers.push(e)}},{key:"notify",value:function(e){this.observers.map((function(t){return t(e)}))}},{key:"unsubscribe",value:function(e){return this.observers.filter((function(t){return t!==e}))}}]),e}());k.instance=void 0;var O=new k,j=(n(28),n(11)),E=function(e){var t=e.handleChange,n=e.handleCreateNewTask;return c.a.createElement("div",{className:"add-container"},c.a.createElement("div",{className:"add-input"},c.a.createElement("input",{className:"add--input--field",onChange:t,placeholder:"Add new task"})),c.a.createElement("div",{className:"add-edit"},c.a.createElement("button",{className:"add-edit--button",onClick:n},c.a.createElement(j.b,null))))},y=n(16),w=n.n(y),T=(n(40),function(e){var t=Object(a.useState)(),n=Object(s.a)(t,2),r=n[0],o=n[1],i=e.handleCloseModal,u=e.handleUpdateTask,l=e.modalItem,d=e.modal,f={id:null===l||void 0===l?void 0:l.id,task:r};return c.a.createElement(w.a,{ariaHideApp:!1,contentLabel:"Minimal Modal Example",isOpen:d,onAfterOpen:function(){o(l.text)}},c.a.createElement("div",{className:"modal-content"},c.a.createElement("input",{className:"modal-input--field",onChange:function(e){o(e.target.value)},value:r}),c.a.createElement("span",{className:"modal-text--accept",onClick:function(){return u(f)}}," Accept "),c.a.createElement("span",{className:"modal-text--reject",onClick:i}," Cancel ")))}),g=Object(a.lazy)((function(){return Promise.all([n.e(4),n.e(3)]).then(n.bind(null,46))})),N=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(null),i=Object(s.a)(o,2),u=i[0],l=i[1],d=Object(a.useState)(!1),f=Object(s.a)(d,2),h=f[0],p=f[1],m=Object(a.useState)(),v=Object(s.a)(m,2),b=v[0],k=v[1];Object(a.useEffect)((function(){j()}),[r]);var j=function(){O.getTaskList(),O.subscribe((function(e){r(e)})),O.unsubscribe((function(){return null}))},y=function(){p(!1)};return c.a.createElement("div",{className:"layout-container"},c.a.createElement(T,{handleCloseModal:y,handleUpdateTask:function(e){O.updateTask(e.id,e.task),j(),y(),l("")},modalItem:b,modal:h}),c.a.createElement("div",{className:"layout-add"},c.a.createElement(E,{handleChange:function(e){var t=e.target.value;l(t)},handleCreateNewTask:function(){O.createNewTask(u),j(),l("")}})),c.a.createElement("div",{className:"layout-list"},c.a.createElement(a.Suspense,{fallback:c.a.createElement("div",null,"Loading...")},c.a.createElement(g,{handleDeleteTask:function(e,t){O.deleteTask(e,t),j()},handleOpenModal:function(e){p(!0);var t=n.find((function(t){return t.id===e}));k(t)},list:n}))))};var x=function(){return c.a.createElement("div",{className:"app"},c.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.0d95257d.chunk.js.map